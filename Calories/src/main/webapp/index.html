<!DOCTYPE html>
<html lang="en" ng-app="caloriesApp">
<head>
	<meta charset="UTF-8">
	<title>Calories</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
</head>
<body>
	<nav class="navbar navbar-default navbar-static-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Calories</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Meals</a></li>
					<li><a href="#">Users</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="#">Exit</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container" ng-controller="mealController">
		<form name="mealForm">
			<div class="page-header">
	       		<h3>{{title}}</h3>
	     	</div>
			<input type="hidden" ng-model="meal.id" />
			<div class="input-group input-group-sm">
				<span class="input-group-addon">Text:</span>
				<input name="text" type="text" class="form-control" placeholder="Meal description" ng-model="meal.text" required />
			</div>
			<br>
			<div class="input-group input-group-sm">
				<span class="input-group-addon">Calories:</span>
				<input name="calories" type="number" class="form-control" placeholder="Number of calories" ng-model="meal.calories" required />
			</div>
			<br>
			<div class="input-group input-group-sm">
				<span class="input-group-addon">Date:</span>
				<input name="date" type="date" class="form-control" placeholder="YYYY-MM-DD" ng-model="meal.date" placeholder="yyyy-MM-dd" required />
			</div>
			<br>
			<div class="input-group input-group-sm">
				<span class="input-group-addon">Time:</span>
				<input name="time" type="time" class="form-control" placeholder="HH:MM:SS" ng-model="meal.time" required />
			</div>
			<br>
			<div class="alert alert-danger" role="alert" ng-show="mealForm.$invalid">
   				<span class="error" ng-show="mealForm.text.$error.required">Text required!<br></span>
				<span class="error" ng-show="mealForm.calories.$error.required">Calories required!<br></span>
				<span class="error" ng-show="mealForm.calories.$error.number">Calories not valid!<br></span>
				<span class="error" ng-show="mealForm.date.$error.required">Date required!<br></span>
				<span class="error" ng-show="mealForm.date.$error.date">Date not valid!<br></span>
				<span class="error" ng-show="mealForm.time.$error.required">Time required!<br></span>
				<span class="error" ng-show="mealForm.time.$error.time">Time not valid!<br></span>
 			</div>
			<button type="button" class="btn btn-default btn-sm pull-right" ng-disabled="mealForm.$invalid" ng-click="save(meal)">
				<span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
			</button>
			<div class="page-header">
	       		<h3>Meals</h3>
	     		</div>
			<table class="table">
				<tr>
					<td>#</td>
					<td>Text</td>
					<td>Calories</td>
					<td>Date</td>
					<td>Time</td>
					<td>Edit</td>
					<td>Remove</td>
				</tr>
				<tr ng-repeat="meal in meals track by $index">
					<td>{{meal.id}}</td>
					<td>{{meal.text}}</td>
					<td>{{meal.calories}}</td>
					<td>{{meal.date | date:'yyyy-dd-MM'}}</td>
					<td>{{meal.time | date:'HH:mm:ss'}}</td>
					<td>
						<button type="button" class="btn btn-default btn-sm" ng-click="edit(meal.id)">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
					</td>
					<td>
						<button type="button" class="btn btn-default btn-sm" ng-click="remove(meal.id)">
							<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
						</button>
					</td>
				</tr>
			</table>
			{{meals}}
		</form>
	</div>
	<script src="//code.jquery.com/jquery-2.2.1.min.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-route.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-resource.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/controller.js"></script>
	<script src="js/services.js"></script>
</body>
</html>